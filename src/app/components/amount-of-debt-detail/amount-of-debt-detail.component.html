<div class="page-container">
  <div class="page-header">
    <button class="back-button" (click)="goBack()">‚Üê Back to Dashboard</button>
    <h1>Amount of Debt</h1>
    <div class="score-impact-badge negative">
      <span class="impact-icon">‚¨áÔ∏è</span>
      <span class="impact-text">Needs Improvement</span>
    </div>
  </div>
  
  <div class="ingredient-content" *ngIf="ingredientMapping">
    <div class="overview-section">
      <h2>Overview</h2>
      <div class="overview-stats">
        <div class="stat-card primary">
          <div class="stat-value">30%</div>
          <div class="stat-label">of your FICO Score</div>
        </div>
        <div class="stat-card warning">
          <div class="stat-value">22%</div>
          <div class="stat-label">Current utilization</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">$12,200</div>
          <div class="stat-label">Total balance</div>
        </div>
      </div>
      <p class="ingredient-description">
        Your debt utilization is currently above the recommended threshold. At 22%, this is likely reducing 
        your credit score by 15-25 points. Reducing your utilization below 10% could significantly improve your score.
      </p>
    </div>

    <div class="attributes-section">
      <h2>Debt Breakdown</h2>
      <div class="attributes-grid">
        <div 
          class="attribute-card" 
          *ngFor="let attribute of ingredientMapping.attributes"
          [class.warning]="attribute.key === 'revolving_utilization'">
          <div class="attribute-header">
            <h3 class="attribute-label">{{ attribute.label }}</h3>
            <div class="attribute-value" 
                 [class.warning-value]="attribute.key === 'revolving_utilization'">
              {{ attribute.value }}
            </div>
          </div>
          <p class="attribute-description">{{ attribute.description }}</p>
        </div>
      </div>
    </div>

    <div class="utilization-analysis-section">
      <h2>Utilization Analysis</h2>
      <div class="utilization-chart">
        <div class="chart-container">
          <div class="utilization-bar">
            <div class="utilization-fill" style="width: 22%"></div>
            <div class="utilization-markers">
              <div class="marker optimal" style="left: 10%">
                <span class="marker-label">Optimal (10%)</span>
              </div>
              <div class="marker current" style="left: 22%">
                <span class="marker-label">Current (22%)</span>
              </div>
              <div class="marker danger" style="left: 30%">
                <span class="marker-label">High Risk (30%+)</span>
              </div>
            </div>
          </div>
        </div>
        <div class="chart-legend">
          <div class="legend-item optimal">
            <div class="legend-color"></div>
            <span>Optimal Range (0-10%)</span>
          </div>
          <div class="legend-item warning">
            <div class="legend-color"></div>
            <span>Your Current Level (22%)</span>
          </div>
          <div class="legend-item danger">
            <div class="legend-color"></div>
            <span>High Risk (30%+)</span>
          </div>
        </div>
      </div>
    </div>

    <div class="impact-analysis-section">
      <h2>Impact Analysis</h2>
      <div class="impact-cards">
        <div class="impact-card negative">
          <div class="impact-header">
            <div class="impact-icon">‚ö†Ô∏è</div>
            <h4>High Utilization Impact</h4>
          </div>
          <p>Your 22% utilization is above the recommended 10% threshold, likely reducing your score by 15-25 points.</p>
        </div>
        <div class="impact-card potential">
          <div class="impact-header">
            <div class="impact-icon">üéØ</div>
            <h4>Improvement Potential</h4>
          </div>
          <p>Reducing utilization to under 10% could increase your score by 20-30 points within 1-2 months.</p>
        </div>
      </div>
    </div>

    <div class="recommendations-section">
      <h2>Improvement Strategies</h2>
      <div class="recommendations-grid">
        <div class="recommendation-card priority-high">
          <div class="recommendation-header">
            <div class="recommendation-icon">üí≥</div>
            <h4>Pay Down Balances</h4>
            <span class="priority-badge">High Impact</span>
          </div>
          <p>Target: Reduce total balance to under $5,500 (10% utilization). Focus on highest balance cards first.</p>
          <div class="recommendation-actions">
            <button class="action-btn">Create Payment Plan</button>
          </div>
        </div>
        
        <div class="recommendation-card priority-medium">
          <div class="recommendation-header">
            <div class="recommendation-icon">üìà</div>
            <h4>Request Credit Increases</h4>
            <span class="priority-badge medium">Medium Impact</span>
          </div>
          <p>Ask for credit limit increases on existing cards to lower utilization without paying down debt.</p>
          <div class="recommendation-actions">
            <button class="action-btn secondary">Request Increases</button>
          </div>
        </div>
        
        <div class="recommendation-card priority-medium">
          <div class="recommendation-header">
            <div class="recommendation-icon">üìÖ</div>
            <h4>Strategic Payment Timing</h4>
            <span class="priority-badge medium">Quick Win</span>
          </div>
          <p>Make payments before statement closing dates to reduce reported balances.</p>
          <div class="recommendation-actions">
            <button class="action-btn secondary">Set Payment Schedule</button>
          </div>
        </div>
      </div>
    </div>

    <div class="action-plan-section">
      <h2>30-Day Action Plan</h2>
      <div class="action-steps">
        <div class="step-card">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Week 1: Assessment</h4>
            <p>List all credit cards, balances, limits, and statement closing dates.</p>
          </div>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Week 2: Payment Strategy</h4>
            <p>Make extra payments on highest utilization cards before statement dates.</p>
          </div>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Week 3: Credit Requests</h4>
            <p>Request credit limit increases on cards with good payment history.</p>
          </div>
        </div>
        <div class="step-card">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>Week 4: Monitor Progress</h4>
            <p>Check updated balances and calculate new utilization ratio.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>